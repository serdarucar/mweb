<div class="container">
<div class="row">
<div class="col-lg-12">
<div class="page-header">
  <h1 id="navbar"><br>Statistics</h1>
</div>
{{date.day}}.{{date.month}}.{{date.year}}
<br>
<table class='table table-hover '>
<thead>
<tr>
<th>Time</th>
<th>Sender</th>
<th>Accepted</th>
<th>Sent</th>
<th>Deferred</th>
<th>Bounced</th>
<th>Status</th>
</tr>
</thead>
<tbody>
{{#result}}
<tr>
<td title='{{time}}'>{{hh}}:{{mi}}</td>
<td><a href="/session/{{sid}}/10">{{sender}}</a></td>
<td title='{{process}}'>{{count}}</td>
<td id='{{sid}}:sent'>{{sent}}</td>
<td id='{{sid}}:deferred'>{{deferred}}</td>
<td id='{{sid}}:bounced'>{{bounced}}</td>
<td><span class="label label-success">Finished</span></td>
</tr>
{{/result}}
</tbody>
</table>
{{^result}}
<h3 align="center"><br>No mail has been sent for today.</h3>
{{/result}}
</div>
</div>
</div>

<script>
    var io = io.connect();
    io.on("mailstats", function(data) {
    	document.getElementById(data.new_val.sid+':sent').innerHTML = data.new_val.sent;
    	document.getElementById(data.new_val.sid+':deferred').innerHTML = data.new_val.deferred;
    	document.getElementById(data.new_val.sid+':bounced').innerHTML = data.new_val.bounced;
    });
</script>
